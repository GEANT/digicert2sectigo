---
- name: Emails in the original request
  debug:
    var: mails

- name: Applying regex replacement expressions to mails
  set_fact:
    mails: "{{ mails | map('regex_replace', mail['search'], mail['replace']) | list }}"
  loop: "{{ sectigo_email_map }}"
  loop_control:
    loop_var: mail
    label: 
  when: sectigo_email_map is defined

- name: Mails to be used for new certificate request
  debug:
    var: mails
